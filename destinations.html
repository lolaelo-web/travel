<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lolaelo — Destinations</title>

  <!-- Favicon: using logo2 as per your setup -->
  <link rel="icon" href="/logo2.png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #ffffff;
      --fg: #111827;
      --muted: #6b7280;
      --brand: #064e3b;   /* teal */
      --accent: #ff6a3d;  /* orange, not heavily used here */
      --border: #e5e7eb;
      --max-width: 960px;
    }

    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
    }

    body {
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background: var(--bg);
      color: var(--fg);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    a { color: inherit; text-decoration: none; }

    .page {
      width: 100%;
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 16px 20px 40px;
      display: flex;
      flex-direction: column;
      flex: 1;
    }

    /* Top nav (match homepage) */

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 4px 0 12px;
    }

    .nav-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .logo-img {
      height: 32px;
      width: auto;
      display: block;
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 20px;
      font-size: 14px;
    }
    
    /* Base nav link */
    .nav-link {
      color: var(--brand);
      padding: 4px 0;
      font-weight: 500;
      text-decoration: none; /* remove underline */
    }
    
    /* Back link wrapper */
    .nav-link-back {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      text-decoration: none; /* no underline on entire element */
    }
    
    /* Arrow stays clean forever — no underline, no hover line */
    .nav-back-arrow {
      font-size: 16px;
      line-height: 1;
      transform: translateY(1px);
      text-decoration: none !important;
    }
    
    /* Text — no underline in normal state */
    .nav-link-back span:last-child {
      text-decoration: none;
    }
    
    /* Hover state:
       underline text ONLY
       arrow stays clean
    */
    .nav-link-back:hover span:last-child {
      text-decoration: underline;
    }
    
    /* Hover arrow animation (no underline) */
    .nav-link-back:hover .nav-back-arrow {
      transform: translate(-2px, 1px);
      transition: transform 0.15s ease-out;
    }
    
    /* Hero */

    .hero {
      padding: 28px 0 16px;
      text-align: center;
    }

    .hero-title {
      font-size: clamp(30px, 4vw, 38px);
      line-height: 1.2;
      margin: 0 0 8px;
      font-weight: 600;
      color: var(--brand);
    }

    .hero-tagline {
      margin: 0;
      font-size: 15px;
      color: var(--muted);
    }

    /* Destinations grid */

    .dest-grid {
      margin-top: 32px;
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 20px;
    }

    .dest-card {
      position: relative;
      border-radius: 18px;
      overflow: hidden;
      min-height: 180px;
      cursor: pointer;
    
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-color: #e5f2ff; /* fallback if image not present */
    
      /* stronger fade so hover feels clearly different */
      filter: grayscale(65%) brightness(0.8);
      transition:
        filter 0.2s ease-out,
        transform 0.2s ease-out,
        box-shadow 0.2s ease-out;
      box-shadow: 0 12px 30px rgba(15,23,42,0.10);
    }

    .dest-card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        to top,
        rgba(0, 0, 0, 0.40),
        rgba(0, 0, 0, 0.18)
      );
      opacity: 0.85; /* darker by default */
      transition: opacity 0.2s ease-out;
    }

    .dest-card:hover,
    .dest-card:focus-visible {
      filter: grayscale(0%) brightness(1);
      transform: translateY(-2px);
      box-shadow: 0 16px 40px rgba(15,23,42,0.18);
    }

    .dest-card:hover::before,
    .dest-card:focus-visible::before {
      opacity: 0.25;
    }

    .dest-label {
      position: absolute;
      left: 16px;
      bottom: 14px;
      color: #ffffff;
      font-size: 18px;
      font-weight: 600;
      text-shadow: 0 2px 4px rgba(0,0,0,0.45);
    }

    /* Individual images (placeholder paths) */

    .dest-boracay {
      background-image: url("/assets/dest-boracay.jpg");
    }

    .dest-el-nido {
      background-image: url("/assets/dest-el-nido.jpg");
    }

    .dest-coron {
      background-image: url("/assets/dest-coron.jpg");
    }

    .dest-siargao {
      background-image: url("/assets/dest-siargao.jpg");
    }

    .dest-manila {
      background-image: url("/assets/dest-manila.jpg");
    }

    .dest-cebu {
      background-image: url("/assets/dest-cebu.jpg");
    }

    /* Destination modal */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.45);
      display: none;          /* hidden by default */
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .modal-backdrop.is-open {
      display: flex;
    }

    /* Smaller font only for bullet-point lists in the modal body */
    .modal-body ul {
      margin: 8px 0 14px 18px;   /* slightly tighter spacing */
      padding: 0;
      font-size: 10px;         /* smaller than paragraph text */
      color: #4b5563;            /* same muted grey */
      line-height: 1.45;
    }
    
    .modal-body ul li {
      margin-bottom: 4px;
    }

    .modal-panel {
      width: min(960px, 92vw);
      height: 80vh;
      background: #ffffff;
      border-radius: 20px;
      box-shadow: 0 24px 80px rgba(15, 23, 42, 0.35);
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .modal-header {
      position: relative;
      flex: 0 0 20%;             /* was 25% */
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .modal-header::before {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        to top,
        rgba(0, 0, 0, 0.45),
        rgba(0, 0, 0, 0.10)
      );
    }

    .modal-header-title {
      position: absolute;
      left: 20px;
      bottom: 16px;
      color: #ffffff;
      font-size: 22px;
      font-weight: 600;
      text-shadow: 0 2px 4px rgba(0,0,0,0.6);
    }

    .modal-close {
      position: absolute;
      top: 12px;
      right: 12px;
      background: rgba(15,23,42,0.65);
      color: #ffffff;
      border: none;
      border-radius: 999px;
      width: 32px;
      height: 32px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 18px;
    }

    .modal-body {
      flex: 1 1 70%;             /* was flex: 1 1 50% */
      padding: 18px 20px;
      overflow-y: auto;
    }

    .modal-body h2 {
      font-weight: 600;
      letter-spacing: -0.01em;
      color: #064e3b;
    }

    .modal-body p {
      margin: 0 0 10px;
      font-size: 12.5px;
      line-height: 1.5;
      color: #4b5563;
      font-weight: 400;   /* <— ensures normal, not bold */
      white-space: pre-line;
    }

    .modal-columns {
      display: flex;
      gap: 20px;
      margin-top: 12px;
    }

    .modal-col {
      flex: 1;
      min-width: 0;
    }

    .modal-section-title {
      margin: 0 0 6px;
      font-size: 13px;
      font-weight: 600;
      color: #111827;
    }

    .modal-thumbs-row {
      display: flex;
      gap: 8px;
      margin-top: 14px;
      padding-bottom: 4px;
      overflow-x: auto;
    }

    .modal-thumb {
      flex: 0 0 auto;
      width: 64px;
      height: 48px;
      border-radius: 8px;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      border: 1px solid #e5e7eb;
      cursor: pointer;
    }

    .modal-footer {
      flex: 0 0 10%;             /* was 25% */
      border-top: 1px solid #e5e7eb;
      padding: 10px 20px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      justify-content: center;
    }

    .modal-footer-label {
      font-size: 13px;
      color: #6b7280;
    }

    .modal-cta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .modal-cta {
      border-radius: 999px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 500;
      border: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .modal-cta-primary {
      background: #ff6a3d;
      color: #ffffff;
    }

    .modal-cta-secondary {
      background: #e5f2ff;
      color: #064e3b;
    }

    @media (max-width: 768px) {
      .modal-panel {
        height: 90vh;
        width: 96vw;
      }
    }

    /* Footer */

    footer {
      border-top: 1px solid var(--border);
      padding: 14px 20px 22px;
      font-size: 12px;
      color: #6b7280;
      text-align: center;
      margin-top: auto;
    }

    footer a {
      color: inherit;
      text-decoration: underline;
    }

    /* Responsive */

    @media (max-width: 768px) {
      .page {
        padding: 12px 16px 28px;
      }

      .hero {
        padding-top: 20px;
      }

      .dest-grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <!-- Top nav -->
    <header class="nav">
      <div class="nav-left">
        <a href="/index.html" aria-label="Lolaelo home">
          <img src="/logo.png" alt="Lolaelo" class="logo-img" />
        </a>
      </div>
      <nav class="nav-right" aria-label="Primary">
        <a class="nav-link nav-link-back" href="/index.html" aria-label="Back to main page">
          <span class="nav-back-arrow">←</span>
          <span>Back to main</span>
        </a>
      </nav>
    </header>

    <!-- Main -->
    <main role="main">
      <section class="hero">
        <h1 class="hero-title">Explore destinations</h1>
        <p class="hero-tagline">Start with our first six destinations in the Philippines.</p>
      </section>

      <section class="dest-grid" aria-label="Pilot destinations">
        <a
          class="dest-card dest-boracay"
          data-dest="boracay"
          href="https://lolaelo-api.onrender.com/catalog.html?q=boracay"
        >
          <div class="dest-label">Boracay</div>
        </a>
        
        <a
          class="dest-card dest-el-nido"
          data-dest="el-nido"
          href="https://lolaelo-api.onrender.com/catalog.html?q=el%20nido"
        >
          <div class="dest-label">El Nido</div>
        </a>
        
        <a
          class="dest-card dest-coron"
          data-dest="coron"
          href="https://lolaelo-api.onrender.com/catalog.html?q=coron"
        >
          <div class="dest-label">Coron</div>
        </a>
        
        <a
          class="dest-card dest-siargao"
          data-dest="siargao"
          href="https://lolaelo-api.onrender.com/catalog.html?q=siargao"
        >
          <div class="dest-label">Siargao</div>
        </a>

        <a
          class="dest-card dest-manila"
          data-dest="manila"
          href="https://lolaelo-api.onrender.com/catalog.html?q=manila"
        >
          <div class="dest-label">Manila</div>
        </a>

        <a
          class="dest-card dest-cebu"
          data-dest="cebu"
          href="https://lolaelo-api.onrender.com/catalog.html?q=cebu"
        >
          <div class="dest-label">Cebu</div>
        </a>
      </section>
    </main>
  </div>

  <footer>
    © <span id="year"></span> Lolaelo · <a href="#">Privacy</a> · <a href="#">Terms</a>
  </footer>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
<div id="dest-modal" class="modal-backdrop" aria-hidden="true">
  <div class="modal-panel" role="dialog" aria-modal="true" aria-labelledby="dest-modal-title">
    <div class="modal-header" id="dest-modal-header">
      <div class="modal-header-title" id="dest-modal-title"></div>
      <button type="button" class="modal-close" id="dest-modal-close" aria-label="Close">
        ×
      </button>
    </div>

    <div class="modal-body">
      <h2 id="dest-modal-subtitle"></h2>
      <p id="dest-modal-intro"></p>

      <div class="modal-columns">
        <section class="modal-col modal-col-left">
          <h3 class="modal-section-title">Activities I recommend</h3>
          <p id="dest-modal-activities"></p>
        </section>

        <section class="modal-col modal-col-right">
          <h3 class="modal-section-title">Major events and seasons</h3>
          <p id="dest-modal-events"></p>

          <h3 class="modal-section-title">Quick snapshot</h3>
          <p id="dest-modal-snapshot"></p>
        </section>
      </div>

      <!-- Thumbnails row (above footer) -->
      <div class="modal-thumbs-row" id="dest-modal-thumbs"></div>
    </div>

    <div class="modal-footer">
      <div class="modal-cta-row">
        <button type="button" class="modal-cta modal-cta-primary" id="dest-modal-view-stays">
          View stays in this destination
        </button>
        <button type="button" class="modal-cta modal-cta-secondary" id="dest-modal-close-secondary">
          Close
        </button>
      </div>
    </div>
  </div>
</div>
  <script>
  (function () {
    const modal = document.getElementById("dest-modal");
    const headerEl = document.getElementById("dest-modal-header");
    const titleEl = document.getElementById("dest-modal-title");
    const subtitleEl = document.getElementById("dest-modal-subtitle");
    const introEl = document.getElementById("dest-modal-intro");
    const activitiesEl = document.getElementById("dest-modal-activities");
    const eventsEl = document.getElementById("dest-modal-events");
    const snapshotEl = document.getElementById("dest-modal-snapshot");
    const thumbsRow = document.getElementById("dest-modal-thumbs");
    const closeBtn = document.getElementById("dest-modal-close");
    const closeBtnSecondary = document.getElementById("dest-modal-close-secondary");
    const viewStaysBtn = document.getElementById("dest-modal-view-stays");

    // Config per destination (note: thumbs currently only for Boracay)
    const destConfig = {
      "boracay": {
        name: "Boracay",
        headerImage: "/assets/dest-boracay.jpg",
        subtitle: "White sand, turquoise water, and island energy.",
        body: `
Boracay hits you the moment your feet touch the sand. The island keeps showing up in global “best beaches” lists for a reason - it has that mix of easy access, soft sand, and clear water that actually matches the photos you see online.

What makes Boracay special to me is how effortless it is. The sand is ridiculously fine - almost like powder - and the water stays warm and shallow far out into the shoreline. It is also one of the easiest islands to reach. Caticlan (MPH) is the fastest and most convenient route. Kalibo (KLO) is usually cheaper, but you trade it for a longer land transfer. Either way, getting here is simple.

Boracay changes during typhoon season - bigger waves, stronger wind, and that dramatic, cinematic kind of rain. It makes you appreciate how powerful nature is. As long as you follow local advisories and respect the ocean, the island stays safe and still worth the trip.

It is one of the few destinations in the Philippines that works for everyone: couples, families, groups of friends, solo travelers, and even the “do nothing all day” crowd. Boracay adjusts to your energy.

Activities I recommend:
• Island hopping: Puka Beach, Crocodile Island, Crystal Cove
• Paraw sunset sailing: simple boat, big payoff
• Snorkeling / freediving: calmer coves around Tambisaan and Balinghai
• Kite surfing or just watching in Bulabog (stronger winds around November to March)
• Beachfront food crawl along White Beach
• Massage on the beach after a long day outside

Major events and seasons:
• Love Boracay (formerly Laboracay) around April 30 - May 1
• Dragon Boat Festival usually around late April to May
• Dry season sweet spot from November to May
• Holy Week, Christmas and New Year: busier, but great if you like a livelier crowd

Quick snapshot:
• Best for: couples, groups, families
• Vibe: lively, social, easy, walkable
• Trip length: 3 - 5 days
• Known for: sunsets, island-hopping, nightlife, very fine sand
        `,
        staysUrl: "https://lolaelo-api.onrender.com/catalog.html?city=Boracay&cityCode=BORACAY",
        thumbs: [
          "/assets/dest-boracay.jpg",
          "/assets/dest-boracay-1.jpg",
          "/assets/dest-boracay-2.jpg",
          "/assets/dest-boracay-3.jpg",
          "/assets/dest-boracay-4.jpg",
          "/assets/dest-boracay-5.jpg"
        ]
      },

      "el-nido": {
        name: "El Nido",
        headerImage: "/assets/dest-el-nido.jpg",
        subtitle: "Limestone cliffs, slow days on the water, and my first love.",
        body: `
El Nido is my first love. It is the place where someone once told me I was “meant to be Filipino,” and for the first time in my life, those words actually carried weight. Sitting on a bangka in the middle of those limestone cliffs, I understood why.

Everything here moves at a slower pace - quiet mornings, flat water, sunlight breaking over Bacuit Bay. You pick an island-hopping route, get on the boat, and the whole day just unfolds around you. Lagoons, sandbars, cliff lines, grilled lunch on the beach - you do not force anything here.

El Nido feels romantic, calm, and reflective. Less nightlife, more “talk about life on a boat and nap later” energy. It is a good fit if you want nature and quiet time to be the main event.

Activities I recommend:
• Island-hopping routes (Tour A and C are the usual favorites)
• Kayaking inside the lagoons when the water is calm
• Sunrise or sunset viewpoints over Bacuit Bay
• Simple beachfront dinners at night
• Side trip to Nacpan Beach if you have extra time

Major events and seasons:
• Dry season from roughly November to May for more reliable boat days
• Holidays like Christmas, New Year, and Holy Week bring more visitors but it still feels small-town compared to big city crowds

Quick snapshot:
• Best for: couples, small groups, honeymooners
• Vibe: slow, scenic, reflective
• Trip length: at least 3 - 4 days
• Known for: limestone cliffs, lagoons, clear water, quiet nights
        `,
        staysUrl: "https://lolaelo-api.onrender.com/catalog.html?city=El%20Nido&cityCode=ELNIDO",
        thumbs: []
      },

      "coron": {
        name: "Coron",
        headerImage: "/assets/dest-coron.jpg",
        subtitle: "Clear lakes, deep water, and the “Dream Team” of island views.",
        body: `
Coron reminds me of the 1992 Dream Team - the best of the best all in one place. Lakes, lagoons, cliffs, wrecks, viewpoints… every day feels like another highlight reel. You do not come here for one thing; you come because everything is stacked.

The water is absurdly clear. Kayangan Lake, Twin Lagoon, the shallow wrecks - it all looks like HD mode in real life. Coron is the spot for divers, snorkelers, and anyone who loves dramatic scenery and clean, high-impact visuals.

The island itself does not try to be fancy. It is simple, outdoorsy, and quiet once you are off the water. Each day feels like one big main event.

Activities I recommend:
• Kayangan Lake and Twin Lagoon (touristy but absolutely worth it)
• Snorkeling over the shallow shipwrecks if you do not dive
• Diving the deeper wrecks if you are certified
• Sunset from Mt. Tapyas
• Maquinit Hot Spring after a full day on the boat

Major events and seasons:
• Dry season from November to May for calmer seas and clearer days
• Philippine holidays (Christmas, New Year, Holy Week) bring more people but it still feels lighter than Boracay

Quick snapshot:
• Best for: divers, adventure-leaning travelers, “photo people”
• Vibe: scenic, slightly rugged, one big highlight per day
• Trip length: 3 - 5 days
• Known for: lakes, lagoons, wreck dives, clear water
        `,
        staysUrl: "https://lolaelo-api.onrender.com/catalog.html?city=Coron&cityCode=CORON",
        thumbs: []
      },

      "siargao": {
        name: "Siargao",
        headerImage: "/assets/dest-siargao.jpg",
        subtitle: "Surf breaks, palm roads, and the love that got away.",
        body: `
Siargao is the love that got away. It is the island that shows up in your head on random days - the scooter rides, the 4 PM light hitting the palms, the quiet spots that felt way more emotional than they should have.

You feel the surf culture even if you do not surf. Barefoot people carrying boards, slow cafés, small restaurants where everyone looks like they have accidentally stayed longer than planned. When Siargao started showing up as one of the top islands in the world in travel lists, it made sense - the place hits people in a very real way.

What I like about Siargao is how emotional the small moments can feel. Eating simple food after a long day, driving through coconut roads, getting caught in a random rain shower - it all sticks with you.

Activities I recommend:
• Cloud 9 boardwalk and a surf lesson if you are up for it
• Island hopping to Guyam, Daku, and Naked Island
• Sugba Lagoon for paddleboarding or just floating around
• Motorbike rides through the Coconut Road and around the island
• Finding your own favorite café or bar and going back every day

Major events and seasons:
• Stronger surf conditions generally from August to November
• You will still see surfers and waves year-round
• Christmas, New Year, and long weekends bring more people but the island keeps a laid-back feel

Quick snapshot:
• Best for: surfers, remote workers, people who like feelings as much as views
• Vibe: raw, emotional, laid-back
• Trip length: 4 - 7 days (easy to extend)
• Known for: surf breaks, coconut roads, island-hopping, sunsets
        `,
        staysUrl: "https://lolaelo-api.onrender.com/catalog.html?city=Siargao&cityCode=SIARGAO",
        thumbs: []
      },

      "manila": {
        name: "Manila",
        headerImage: "/assets/dest-manila.jpg",
        subtitle: "City energy, food, and short hops to the islands.",
        body: `
Manila is where most trips to the Philippines begin and end. It is not a beach destination, but it is where the stories, families, and late-night conversations usually start.

The city is a mix of old and new. Intramuros, Binondo, and the older districts show you what Manila has carried through the years. BGC, Makati, and Ortigas give you the busy, modern city energy with malls, cafés, and restaurants in every direction. It is a good place to reset between island runs, meet people, and get things done.

Activities I recommend:
• Walk around Intramuros with a simple guided or DIY tour
• Food crawl in Binondo or a local neighborhood spot
• Sunset at Manila Bay or a skyline view from a rooftop bar
• Short side trips around Metro Manila if you have extra days

Major events and seasons:
• Christmas season starts early and runs long, with heavy traffic but a lot of lights and celebrations
• Rainy season can mean heavier downpours, so plan extra time for transfers

Quick snapshot:
• Best for: first and last nights, city breaks, food and nightlife
• Vibe: loud, busy, direct
• Trip length: 1 - 3 days
• Known for: food, malls, traffic, city views
        `,
        staysUrl: "https://lolaelo-api.onrender.com/catalog.html?city=Manila&cityCode=MANILA",
        thumbs: []
      },

      "cebu": {
        name: "Cebu",
        headerImage: "/assets/dest-cebu.jpg",
        subtitle: "City, islands, and easy access in one hub.",
        body: `
Cebu gives you a bit of everything in one place. You get a real city with malls, restaurants, and neighborhoods, and you are also a jump away from beaches, waterfalls, and island days.

Mactan and nearby islands give you the easy beach escape without flying again. Head south and you reach places with waterfalls, sardine runs, and quieter coastal towns. Cebu works well for people who want options and do not want every day to look the same.

Activities I recommend:
• A day or two on Mactan or nearby islands for simple beach time
• City food runs and mall time in Cebu City
• Day trips or overnights to the south for waterfalls and coastal spots
• Island hopping if you want more time on the water

Major events and seasons:
• Sinulog Festival in January brings huge crowds, so book early if you plan to visit then
• Dry months work best for day trips outside the city

Quick snapshot:
• Best for: people who want city and nature in one hub
• Vibe: practical, flexible, varied
• Trip length: 3 - 5 days
• Known for: access, food, festivals, nearby beaches and waterfalls
        `,
        staysUrl: "https://lolaelo-api.onrender.com/catalog.html?city=Cebu&cityCode=CEBU",
        thumbs: []
      }
    };

    let currentStaysUrl = null;

    function splitBodySections(raw) {
      const text = raw || "";

      const ACT = "Activities I recommend:";
      const EVT = "Major events and seasons:";
      const SNAP = "Quick snapshot:";

      const actIdx = text.indexOf(ACT);
      const evtIdx = text.indexOf(EVT);
      const snapIdx = text.indexOf(SNAP);

      if (actIdx === -1 || evtIdx === -1 || snapIdx === -1) {
        return {
          intro: text.trim(),
          activities: "",
          events: "",
          snapshot: ""
        };
      }

      const intro = text.slice(0, actIdx).trim();
      const activities = text.slice(actIdx + ACT.length, evtIdx).trim();
      const events = text.slice(evtIdx + EVT.length, snapIdx).trim();
      const snapshot = text.slice(snapIdx + SNAP.length).trim();

      return { intro, activities, events, snapshot };
    }

    function renderThumbs(list) {
      thumbsRow.innerHTML = "";
      if (!list || !list.length) {
        thumbsRow.style.display = "none";
        return;
      }
      thumbsRow.style.display = "flex";

      list.forEach((src, idx) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "modal-thumb";
        btn.style.backgroundImage = 'url("' + src + '")';
        btn.setAttribute("aria-label", "View photo " + (idx + 1));
        // Viewer wiring will be added in a later task
        thumbsRow.appendChild(btn);
      });
    }

    function openModal(destKey) {
      const cfg = destConfig[destKey];
      if (!cfg) return;

      const { intro, activities, events, snapshot } = splitBodySections(cfg.body);

      headerEl.style.backgroundImage = 'url("' + cfg.headerImage + '")';
      titleEl.textContent = cfg.name;
      subtitleEl.textContent = cfg.subtitle;

      introEl.textContent = intro || "";
      activitiesEl.textContent = activities || "";
      eventsEl.textContent = events || "";
      snapshotEl.textContent = snapshot || "";

      renderThumbs(cfg.thumbs || []);

      currentStaysUrl = cfg.staysUrl;

      modal.classList.add("is-open");
      modal.setAttribute("aria-hidden", "false");
    }

    function closeModal() {
      modal.classList.remove("is-open");
      modal.setAttribute("aria-hidden", "true");
      currentStaysUrl = null;
    }

    // Wire up tiles
    document.querySelectorAll(".dest-card[data-dest]").forEach(function (card) {
      card.addEventListener("click", function (e) {
        e.preventDefault();
        const key = card.getAttribute("data-dest");
        openModal(key);
      });
    });

    // Close actions
    closeBtn.addEventListener("click", closeModal);
    closeBtnSecondary.addEventListener("click", closeModal);

    modal.addEventListener("click", function (e) {
      if (e.target === modal) closeModal();
    });

    document.addEventListener("keydown", function (e) {
      if (e.key === "Escape") closeModal();
    });

    viewStaysBtn.addEventListener("click", function () {
      if (currentStaysUrl) {
        window.location.href = currentStaysUrl;
      }
    });
  })();
  </script>
</body>
</html>
